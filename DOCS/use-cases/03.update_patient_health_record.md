### 3. Update Patient Health Record

**Actor:** Healthcare Provider

**Description:** Modify existing patient health record with new information or corrections.

**Preconditions:**

- User is authenticated and authorized to modify records
- Patient record exists in the system

**Main Flow:**

1. User retrieves existing patient record (see Read use case)
2. User modifies one or more fields (diagnosis, medications, test results, notes)
3. System validates the updated data
4. System applies update to primary database with versioning/timestamp
5. System replicates changes to master-slave replicas
6. System asynchronously replicates to DR replica
7. System confirms successful update

**Postconditions:**

- Patient record is updated in primary database
- Changes are replicated to all configured replicas
- Audit log captures what was changed, by whom, and when
- Previous version may be retained per retention policy

**Exception Flow:**

- If validation fails, system displays error messages
- If replication lag is excessive, system alerts administrators
- If concurrent update detected, system handles with conflict resolution
- If update fails, system rolls back and notifies user
